{"version":3,"sources":["components/dz.tsx","orienteering/SportSoftware.ts","orienteering/WiolEntry.ts","orienteering/CascadeRegistration.ts","lt/Entry.ts","assets/LostTimeWordmark.svg","assets/mapmontageblur.jpg","components/Header.tsx","components/PageTitle.tsx","components/Entry.tsx","components/EntryFile.tsx","components/RegistrationClassCount.tsx","orienteering/RegistrationCheckinPdf.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["BasicDz","props","onDrop","baseStyle","flex","display","flexDirection","alignItems","padding","borderWidth","borderRadius","borderColor","borderStyle","backgroundColor","color","fontStyle","outline","transition","activeStyle","acceptStyle","rejectStyle","files","console","log","i","length","parser","setState","state","this","getRootProps","getInputProps","className","style","Component","convertFromLtEntry","entry","StartNo","Error","Stno","Chipno","Epunch","toString","Surname","LastName","FirstName","S","Sex","nc","NonCompetitive","Classifier","City","Club","Short","ClassId","Rented","EpunchRented","Paid","COLUMNS_STANDARD","isWiolEntryCsv","row","Object","keys","isCascadeRegistrationCsv","LtEntry","Course","Phone","EmergencyPhone","CarLicense","Newcomer","Group","Owed","Rent","School","NC","Gen","EPunch","Class","Header","Row","backgroundImage","mapblur","backgroundRepeat","marginBottom","Col","xs","span","offset","paddingTop","paddingBottom","href","src","wordmark","alt","height","margin","React","PageTitle","title","width","marginTop","Entry","value","textAlign","EntryFile","failed","name","success","RegistrationClassCount","sm","md","lg","classname","regcount","buildRegPdfRow","table","widths","heights","body","text","concat","fontSize","border","bold","alignment","columns","layout","fillColor","hLineWidth","vLineWidth","hLineColor","vLineColor","formatPhoneNumber","phoneNumberString","cleaned","replace","match","join","EntryProcessor","filesprocessed","entries","nextstartno","handleUnparse","bind","updateEntries","handleClearEntries","nowtimestring","downloadpdf","forexport","OeEntries","maxstartnoinuse","Math","max","map","o","e","push","SS","unparseconfig","quotes","delimiter","header","skipEmptyLines","csvstring","Papa","unparse","nowstring","el","document","createElement","encodeURI","target","download","click","now","Date","y","getFullYear","m","getMonth","padStart","d","getDate","H","getHours","M","getMinutes","file","parse","transform","col","trim","complete","results","parsed","indata","nextbib","newentries","empty","fromWiolEntryCsv","fromCascadeRegistrationCsv","data","meta","maxstartno","parseEnties","newfile","checkInPdf","tablebodyowned","tablebodyrented","tablebodyrented2","ownedepunchentries","filter","rentalepunchentries","rentalepunchentries2","lastNameSort","a","b","localeCompare","month","day","getDay","sort","docDefinition","pageSize","pageOrientation","footer","currentPage","pageCount","content","italics","rowIndex","node","columnIndex","paddingLeft","paddingRight","headerRows","dontBreakRows","pageBreak","pdfMake","Roboto","normal","bolditalics","buildCheckInPdf","fileName","colSpan","filemeta","regclasshist","reduce","reg","counts","toLocaleLowerCase","regclass","Button","variant","onClick","disabled","App","Container","fluid","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.653779bc.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport Dropzone from 'react-dropzone';\n\nexport class BasicDz extends Component<{parser:any}, {files:File[]}, {}> {\n  onDrop: (files: File[]) => void;\n  constructor(props:{parser:any}) {\n    super(props);\n    this.onDrop = (files) => {\n        console.log(files);\n        for (let i = 0; i < files.length; i++) {\n            this.props.parser(files[i]);\n        };\n      this.setState({files})\n    };\n    this.state = {\n      files: []\n    };\n  }\n\n  baseStyle:any = {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: '20px',\n    borderWidth: 2,\n    borderRadius: 10,\n    borderColor: 'magenta',\n    borderStyle: 'dashed',\n    backgroundColor: 'lightgrey',\n    color: 'black',\n    fontStyle: 'italic',\n    outline: 'none',\n    transition: 'border .24s ease-in-out'\n  };\n\n  activeStyle:any = {\n    borderColor: '#2196f3'\n  };\n  \n  acceptStyle:any = {\n    borderColor: '#00e676'\n  };\n  \n  rejectStyle:any = {\n    borderColor: '#ff1744'\n  };\n\n  render() {\n    return (\n      <Dropzone onDrop={this.onDrop}>\n        {({getRootProps, getInputProps}) => (\n          <section className=\"container\">\n            <div {...getRootProps({\n                className: 'dropzone',\n                style: this.baseStyle,\n                   })}>\n              <input {...getInputProps()} />\n              <p>Drop csv file(s) here or click to open file browser.</p>\n            </div>\n          </section>\n        )}\n      </Dropzone>\n    );\n  }\n}","import { LtEntry } from \"../lt/Entry\";\n\nexport type OeEntryCsv = {\n    Stno: number,\n    Chipno: string | null,\n    \"Database Id\":null,\n    Surname: string | null,\n    \"First name\": string | null\n    S: string,\n    nc: 0|1,\n    Classifier: 0,\n    City: string | null,\n    Short: string | null,\n    Rented: \"X\" | null,\n    \"Start fee\":0,\n    Paid:\"X\"\n  }\n\nexport function fromLtEntries(entries: LtEntry[]): OeEntryCsv[] {\n  let OeEntries:OeEntryCsv[] = [];\n  let nextstartno:number;\n  const maxstartnoinuse = Math.max(...entries.map(o => o.StartNo? o.StartNo:0))\n  nextstartno = maxstartnoinuse > 1001 ? maxstartnoinuse+1 : 1001;\n\n  for (let e of entries) {\n    if (!e.StartNo) {\n      e.StartNo = nextstartno;\n      nextstartno++;\n    }\n    OeEntries.push(convertFromLtEntry(e));\n  }\n  return OeEntries;\n}\n\nfunction convertFromLtEntry(entry:LtEntry): OeEntryCsv {\n  if (!entry.StartNo) {\n    throw new Error('Start number is required');\n  }\n  return {\n    Stno: entry.StartNo,\n    Chipno: entry.Epunch.toString(),\n    \"Database Id\":null,\n    Surname: entry.LastName,\n    \"First name\": entry.FirstName,\n    S: entry.Sex,\n    nc: entry.NonCompetitive ? 1:0,\n    Classifier: 0,\n    City: entry.Club,\n    Short: entry.ClassId,\n    Rented: entry.EpunchRented ? \"X\" : null,\n    \"Start fee\":0,\n    Paid: \"X\"\n  }\n}\n\nexport const COLUMNS_STANDARD = [\n    \"OE0001\",\n    \"Stno\",\n    \"XStno\",\n    \"Chipno\",\n    \"Database Id\",\n    \"Surname\",\n    \"First name\",\n    \"YB\",\n    \"S\",\n    \"Block\",\n    \"nc\",\n    \"Start\",\n    \"Finish\",\n    \"Time\",\n    \"Classifier\",\n    \"Credit -\",\n    \"Penalty +\",\n    \"Comment\",\n    \"Club no.\",\n    \"Cl.name\",\n    \"City\",\n    \"Nat\",\n    \"Location\",\n    \"Region\",\n    \"Cl. no.\",\n    \"Short\",\n    \"Long\",\n    \"Entry cl. No\",\n    \"Entry class (short)\",\n    \"Entry class (long)\",\n    \"Rank\",\n    \"Ranking points\",\n    \"Num1\",\n    \"Num2\",\n    \"Num3\",\n    \"Text1\",\n    \"Text2\",\n    \"Text3\",\n    \"Addr. surname\",\n    \"Addr. first name\",\n    \"Street\",\n    \"Line2\",\n    \"Zip\",\n    \"Addr. city\",\n    \"Phone\",\n    \"Mobile\",\n    \"Fax\",\n    \"EMail\",\n    \"Rented\",\n    \"Start fee\",\n    \"Paid\",\n    \"Team\",\n    \"Course no.\",\n    \"Course\",\n    \"km\",\n    \"m\",\n    \"Course controls\"\n  ]\n\nexport const COLUMNS_SCOREO = [\n  \"OEScore0001\",\n  \"Stno\",\n  \"XStno\",\n  \"Chipno\",\n  \"Database Id\",\n  \"Surname\",\n  \"First name\",\n  \"YB\",\n  \"S\",\n  \"Block\",\n  \"nc\",\n  \"Start\",\n  \"Finish\",\n  \"Time\",\n  \"Classifier\",\n  \"Credit -\",\n  \"Penalty +\",\n  \"Comment\",\n  \"Club no.\",\n  \"Cl.name\",\n  \"City\",\n  \"Nat\",\n  \"Location\",\n  \"Region\",\n  \"Cl. no.\",\n  \"Short\",\n  \"Long\",\n  \"Entry cl. No\",\n  \"Entry class (short)\",\n  \"Entry class (long)\",\n  \"Rank\",\n  \"Ranking points\",\n  \"Num1\",\n  \"Num2\",\n  \"Num3\",\n  \"Text1\",\n  \"Text2\",\n  \"Text3\",\n  \"Addr. surname\",\n  \"Addr. first name\",\n  \"Street\",\n  \"Line2\",\n  \"Zip\",\n  \"Addr. city\",\n  \"Phone\",\n  \"Mobile\",\n  \"Fax\",\n  \"EMail\",\n  \"Rented\",\n  \"Start fee\",\n  \"Paid\",\n  \"Team\",\n  \"Course no.\",\n  \"Course\",\n  \"km\",\n  \"m\",\n  \"Course controls\"\n]","export class WiolEntryCsv {\n    \"Bib #\"!: number;\n    \"SI Card\"!: string;\n    Rent!: \"X\" | null;\n    \"First Name\"!: string;\n    \"Last Name\"!: string;\n    Gen!: \"M\" | \"F\";\n    School!: string;\n    Course!: string;\n    NC!: \"X\" | null;\n}\n\nexport function isWiolEntryCsv(row:any): boolean {\n    return (\n        Object.keys(row).length === 9 &&\n        'Bib #' in row &&\n        \"SI Card\" in row &&\n        'Rent' in row &&\n        \"First Name\" in row &&\n        \"Last Name\" in row &&\n        'Gen' in row &&\n        'School' in row &&\n        'Course' in row &&\n        'NC' in row\n    )\n}","export class CascadeRegistrationCsv {\n    FirstName!: string;\n    LastName!: string;\n    Email!: string;\n    Club!: string;\n    Class!: string;\n    Sex!: \"F\" | \"M\";\n    EPunch!: string;\n    Phone!: string;\n    EmergencyPhone!: string;\n    CarLicense!: string;\n    Newcomer!: true | false;\n    Group!: number | null;\n    Paid!: true | false;\n    Owed!: number | null\n}\n\nexport function isCascadeRegistrationCsv(row:any): boolean {\n    if (\n        Object.keys(row).length === 14 &&\n        'FirstName' in row &&\n        'LastName' in row &&\n        'Email' in row &&\n        'Club' in row &&\n        'Class' in row &&\n        'Sex' in row &&\n        'EPunch' in row &&\n        'Phone' in row &&\n        'EmergencyPhone' in row &&\n        'CarLicense' in row &&\n        'Newcomer' in row &&\n        'Group' in row &&\n        'Paid' in row &&\n        'Owed' in row\n    ) {\n        return true;\n    }\n    return false;\n}","import { isWiolEntryCsv, WiolEntryCsv } from \"../orienteering/WiolEntry\"\nimport { CascadeRegistrationCsv, isCascadeRegistrationCsv } from \"../orienteering/CascadeRegistration\"\n\nexport type ParseResult = {\n    data: LtEntry[],\n    meta: {\n      success: number,\n      failed: number,\n      empty: number,\n      maxstartno: number,\n    }\n  }\n\nexport class LtEntry {\n    StartNo!: number | null;\n    Epunch!: string;\n    EpunchRented!: true | false;\n    FirstName!: string;\n    LastName!: string;\n    Club!: string;\n    Course!: string;\n    ClassId!: string;\n    NonCompetitive!: true | false;\n    Sex!: \"F\" | \"M\";\n    Phone!: string;\n    EmergencyPhone!: string;\n    CarLicense!: string;\n    Newcomer!: true | false | \"unknown\";\n    Group!: number;\n    Paid!: true | false | \"unknown\";\n    Owed!: number;\n\n    fromWiolEntryCsv(\n        entry: WiolEntryCsv\n    ) {\n        this.StartNo = entry[\"Bib #\"];\n        this.Epunch = entry[\"SI Card\"];\n        this.EpunchRented= (entry.Rent === 'X') ? true: false;\n        this.FirstName= entry[\"First Name\"];\n        this.LastName= entry[\"Last Name\"];\n        this.Club= entry.School;\n        this.Course= '';\n        this.ClassId= entry.Course;\n        this.NonCompetitive= (entry.NC === 'X') ? true:false;\n        this.Sex= entry.Gen;\n        this.Phone= '';\n        this.EmergencyPhone= '';\n        this.CarLicense= '';\n        this.Newcomer= \"unknown\";\n        this.Group= 1;\n        this.Paid= \"unknown\";\n        this.Owed= 0;\n\n        return this;\n    }\n    fromCascadeRegistrationCsv(\n        entry: CascadeRegistrationCsv,\n    ) {\n        this.StartNo = null;\n        this.Epunch = entry.EPunch\n        this.EpunchRented= (entry.EPunch === '') ? true:false;\n        this.FirstName= entry.FirstName\n        this.LastName= entry.LastName\n        this.Club= entry.Club\n        this.Course= '';\n        this.ClassId= entry.Class;\n        this.NonCompetitive= false;\n        this.Sex= entry.Sex\n        this.Phone= entry.Phone\n        this.EmergencyPhone= entry.EmergencyPhone;\n        this.CarLicense= entry.CarLicense\n        this.Newcomer= entry.Newcomer\n        this.Group= (entry.Group) ? entry.Group: 1; \n        this.Paid= entry.Paid\n        this.Owed= (entry.Owed) ? entry.Owed: 0;\n\n        return this;\n    }\n}\n\nexport function parseEnties(indata:any[], nextbib?:number): ParseResult {\n\n    const newentries:LtEntry[] = [];\n    let empty = 0;\n    let failed = 0;\n    for (const row of indata) {\n\n        if (isWiolEntryCsv(row)) {\n            const e = new LtEntry().fromWiolEntryCsv(row);\n            newentries.push(e);\n            continue;\n        } else if (isCascadeRegistrationCsv(row)) {\n            const e = new LtEntry().fromCascadeRegistrationCsv(row);\n            newentries.push(e);\n            continue;\n        } else if (Object.keys(row).length <= 1) {\n            console.log(Object.keys(row))\n            console.log('empty row');\n            empty += 1;\n            continue;\n        } else {\n            console.log(Object.keys(row))\n            console.log('failed to parse row');\n            failed += 1;\n        }\n    }\n\n    return {\n        data: newentries,\n        meta: {\n            success: newentries.length,\n            failed: failed,\n            empty: empty,\n            maxstartno: Math.max(...newentries.map(o => o.StartNo? o.StartNo:1001))\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/LostTimeWordmark.2977d17a.svg\";","export default __webpack_public_path__ + \"static/media/mapmontageblur.c977ea5b.jpg\";","import React from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport wordmark from  '../assets/LostTimeWordmark.svg';\nimport mapblur from '../assets/mapmontageblur.jpg';\n\nexport class Header extends React.Component<{}, {}, {}> {\n\n  render () {\n  return (\n    <Row>\n    <nav className=\"nav-bar\" style={{\n      backgroundImage: `url(${mapblur})`,\n      backgroundRepeat: 'repeat-xy',\n      marginBottom: '20px'\n    }}>\n      <Col xs={{span:10, offset:1}}>\n        <div className=\"nav-img\" style={{\n          paddingTop: '5px',\n          paddingBottom: '5px'\n        }}>\n          <a href=\"/\">\n            <img src={wordmark} alt=\"Lost Time Orienteering\" style={{\n              height: '60px',\n              margin: '0px'\n            }}></img>\n          </a>\n        </div>\n      </Col>\n    </nav>\n    </Row>\n  );\n  }\n}","import React from 'react';\n\nexport class PageTitle extends React.Component<{title: string}, {}, {}> {\n\n  render () {\n  return (\n    <div>\n    <h2 style={{\n\n    }}>\n        {this.props.title}\n    </h2>\n    <div style={{\n        width: '100%',\n        height: '2px',\n        backgroundColor: 'magenta',\n        marginTop: '10px',\n        marginBottom: '10px'\n    }}>\n    </div>\n    </div>\n  );\n  }\n\n}","import React from 'react';\nimport { LtEntry } from '../lt/Entry';\n\nexport class Entry extends React.Component<{value: LtEntry}, {}, {}> {\n\n  render () {\n  return (\n    <tr>\n      <td>{this.props.value.FirstName}</td>\n      <td>{this.props.value.LastName}</td>\n      <td>{this.props.value.Epunch}</td>\n      <td style={{textAlign:'center'}}>{this.props.value.EpunchRented? \"yes\": \"no\"}</td>\n      <td>{this.props.value.ClassId}</td>\n      <td>{this.props.value.StartNo}</td>\n    </tr>\n  );\n  }\n\n}","import React from 'react';\n\nexport type entryFileMeta = {\n    name: string,\n    success: number,\n    failed: number,\n    empty: number\n  }\n\nexport class EntryFile extends React.Component<entryFileMeta, {}, any> {\n\n  render () {\n    if (this.props.failed > 0) {\n      return <li>{this.props.name} (Found: {this.props.success}, Failed: {this.props.failed})</li>\n    }\n    return (\n      <li>{this.props.name} (Found: {this.props.success})</li>\n    )\n  }\n}","import React from 'react';\nimport { Col } from 'react-bootstrap';\n\nexport class RegistrationClassCount extends React.Component<{classname:string, regcount:number}, {}, {}> {\n\n  render () {\n    return (\n      // <li>\n      //   <b>{this.props.classname}</b>: {this.props.regcount}\n      // </li>\n      <Col xs={4} sm={3} md={4} lg={3}><b>{this.props.classname}</b>: {this.props.regcount}</Col>\n\n    )\n  }\n}","import { LtEntry } from \"../lt/Entry\";\nimport * as pdfMake from \"pdfmake/build/pdfmake\";\nimport { TDocumentDefinitions, TFontDictionary } from 'pdfmake/interfaces';\n\nexport function buildCheckInPdf(entries:LtEntry[]): pdfMake.TCreatedPdf {\n    \n    const fonts:TFontDictionary = {\n        // download default Roboto font from cdnjs.com\n     Roboto: {\n       normal: 'https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.66/fonts/Roboto/Roboto-Regular.ttf',\n       bold: 'https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.66/fonts/Roboto/Roboto-Medium.ttf',\n       italics: 'https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.66/fonts/Roboto/Roboto-Italic.ttf',\n       bolditalics: 'https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.66/fonts/Roboto/Roboto-MediumItalic.ttf'\n     },\n    }\n    \n    const tablebodyowned: any[][] = [[' ', 'First', 'Last', 'Owed', 'Course', 'Epunch', 'Club', 'Phone', 'Emergency Ph.', 'Vehicle']]\n    const tablebodyrented: any[][] = [[' ', 'First', 'Last', 'Owed', 'Course', 'Epunch', 'Club', 'Phone', 'Emergency Ph.', 'Vehicle']]\n    const tablebodyrented2: any[][] = [[' ', 'First', 'Last', 'Owed', 'Course', 'Epunch', 'Club', 'Phone', 'Emergency Ph.', 'Vehicle']]\n    const ownedepunchentries = entries.filter(entry => entry.Epunch.length > 0).map(buildRegPdfRow);\n    const rentalepunchentries = entries.filter(entry => entry.Epunch.length === 0).map(buildRegPdfRow);\n    const rentalepunchentries2 = entries.filter(entry => entry.Epunch.length === 0).map(buildRegPdfRow);\n    tablebodyowned.push(...ownedepunchentries);\n    tablebodyrented.push(...rentalepunchentries);\n    tablebodyrented2.push(...rentalepunchentries2);\n\n    function lastNameSort(a:any[any][], b:any[any][]):number {\n        if (a[2].text && b[2].text) {\n            return a[2].text.localeCompare(b[2].text);\n        } else if (a[2].text) {\n            return 1;\n        } else {\n            return -1;\n        }\n    };\n\n    tablebodyowned.sort(lastNameSort);\n    tablebodyrented.sort(lastNameSort);\n    tablebodyrented.sort(lastNameSort);\n\n    function nowtimestring():string {\n        const now:Date = new Date();\n        const y = now.getFullYear().toString();\n        // const m = (now.getMonth() + 1).toString().padStart(2, \"0\");\n        const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n        const month = monthNames[now.getMonth()];\n        const d = now.getDate().toString().padStart(2, \"0\");\n        const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n        const day = dayNames[now.getDay()];\n        const H = now.getHours().toString().padStart(2, \"0\");\n        const M = now.getMinutes().toString().padStart(2, \"0\");\n        return H.concat(':',M,' ',day,' ',d,' ',month,', ',y);\n      }\n\n    const docDefinition:TDocumentDefinitions = {\n        pageSize: 'LETTER',\n        pageOrientation: 'landscape',\n        footer: function(currentPage, pageCount) { return({\n                text: 'Created: ' + nowtimestring(),\n                fontSize: 8,\n                margin: [50,0,0,0]\n            })\n        },\n        content: [\n            {\n                text: 'Pre-Registration List: OWNED punches',\n                bold: true,\n                fontSize: 15,\n                margin: [0,0,0,10] // bottom only\n            },\n            {\n                text: [{text: 'Registration Volunteers: ', italics: true, bold: true}, 'Check off each participant in the first column when they arrive. Please verify course assignment, epunch number, and contact information. Collect any money owed and cross out in the owed column when paid.'],\n                margin: [0,0,0,10] // bottom only\n            },\n            {\n                layout: {\n                    fillColor: function (rowIndex, node, columnIndex) {\n                        return (rowIndex % 2 === 1) ? '#EEEEEE' : null;\n                    },\n                    paddingLeft: function(i, node) { return 4; },\n                    paddingRight: function(i, node) { return 4; },\n                    paddingTop: function(i, node) { return 6; },\n                    paddingBottom: function(i, node) { return 4; },\n                    hLineWidth(i, node) {\n                        if (i === 0 || i === node.table.body.length) {\n                            return 0;\n                        }\n                        return (i === node.table.headerRows) ? 2 : 0;\n                    },\n                    vLineWidth(i) {\n                        return .5;\n                    },\n                    hLineColor(i) {\n                        // return i === 1 ? 'black' : '#aaa';\n                        return i === 1 ? 'black' : 'white';\n                    },\n                    vLineColor(i) {\n                        return 'white';\n                    }\n                },\n                table: {\n                    headerRows: 1,\n                    dontBreakRows: true,\n                    body: tablebodyowned\n                },\n                pageBreak: 'after'\n            },\n\n\n            {\n                text: 'Pre-Registration List: RENTAL punches (list A)',\n                bold: true,\n                fontSize: 15,\n                margin: [0,0,0,10] // bottom only\n            },\n            {\n                text: [{text: 'Registration Volunteers: ', italics: true, bold: true}, 'Check off each participant in the first column when they arrive. Write the rental epunch number in the large box. Please verify course assignment, and contact information. Collect any money owed and cross out in the owed column when paid.'],\n                margin: [0,0,0,10] // bottom only\n            },\n            {\n                text: [{text: 'Finish Volunteers: ', italics: true, bold: true}, 'Find any epunch numbers that haven\\'t been checked off. Find the corresponding registration in the computer, add the epunch number from this page, and check it off. Return this list to registration.'],\n                margin: [0,0,0,10] // bottom only\n            },\n            {\n                layout: {\n                    fillColor: function (rowIndex, node, columnIndex) {\n                        return (rowIndex % 2 === 1) ? '#EEEEEE' : null;\n                    },\n                    paddingLeft: function(i, node) { return 4; },\n                    paddingRight: function(i, node) { return 4; },\n                    paddingTop: function(i, node) { return 2; },\n                    paddingBottom: function(i, node) { return 2; },\n                    hLineWidth(i, node) {\n                        if (i === 0 || i === node.table.body.length) {\n                            return 0;\n                        }\n                        return (i === node.table.headerRows) ? 2 : 1;\n                    },\n                    vLineWidth(i) {\n                        return 0;\n                    },\n                    hLineColor(i) {\n                        return i === 1 ? 'black' : 'white';\n                    },\n                },\n                table: {\n                    headerRows: 1,\n                    body: tablebodyrented\n                },\n                pageBreak: 'after'\n            },\n\n            {\n                text: 'Pre-Registration List: RENTAL punches (list B)',\n                bold: true,\n                fontSize: 15,\n                margin: [0,0,0,10] // bottom only\n            },\n            {\n                text: [{text: 'Registration Volunteers: ', italics: true, bold: true}, 'Check off each participant in the first column when they arrive. Write the rental epunch number in the large box. Please verify course assignment, and contact information. Collect any money owed and cross out in the owed column when paid.'],\n                margin: [0,0,0,10] // bottom only\n            },\n            {\n                text: [{text: 'Finish Volunteers: ', italics: true, bold: true}, 'Find any epunch numbers that haven\\'t been checked off. Find the corresponding registration in the computer, add the epunch number from this page, and check it off. Return this list to registration.'],\n                margin: [0,0,0,10] // bottom only\n            },\n            {\n                layout: {\n                    fillColor: function (rowIndex, node, columnIndex) {\n                        return (rowIndex % 2 === 1) ? '#EEEEEE' : null;\n                    },\n                    paddingLeft: function(i, node) { return 4; },\n                    paddingRight: function(i, node) { return 4; },\n                    paddingTop: function(i, node) { return 2; },\n                    paddingBottom: function(i, node) { return 2; },\n                    hLineWidth(i, node) {\n                        if (i === 0 || i === node.table.body.length) {\n                            return 0;\n                        }\n                        return (i === node.table.headerRows) ? 2 : 1;\n                    },\n                    vLineWidth(i) {\n                        return 0;\n                    },\n                    hLineColor(i) {\n                        return i === 1 ? 'black' : 'white';\n                    },\n                },\n                table: {\n                    headerRows: 1,\n                    body: tablebodyrented2\n                }\n            }\n\n        ]\n    };\n    return(pdfMake.createPdf(docDefinition, {}, fonts));\n}\n\n\nfunction buildRegPdfRow(entry:LtEntry): any[]{\n    const row = [\n        {\n            table: {\n                widths: [12],\n                heights: [10],\n                body: [[{\n                    text: entry.Owed > 0? {\n                        text:'$'.concat(entry.Owed.toString()), color:'#999999',\n                        fontSize: 7}: \" \", \n                    border: [true, true, true, true]}\n                ]]\n            }\n        },\n        {text: entry.FirstName, fontSize: 11},\n        {text: entry.LastName, fontSize: 11},\n        entry.Owed > 0? {text:'$'.concat(entry.Owed.toString()), fontSize: 11, bold:true}: \"\",\n        {text: entry.ClassId, fontSize: 11},\n        entry.Epunch.length === 0 ? \n            {\n                table: {\n                    widths: [100],\n                    heights: [25],\n                    body: [[{\n                        border: [true, true, true, true],\n                        alignment: 'right',\n                        columns: [\n                            {\n                                width: '*',\n                                text: ' '\n                            },\n                            {\n                                width: 'auto',\n                                table: {\n                                    widths: [4],\n                                    heights: [4],\n                                    body: [[{\n                                        text: \" \",\n                                        border: [false, false, false, false]\n                                    }]]\n                                },\n                                layout: {\n                                    fillColor: '#CCCCCC'\n                                }\n                            }\n                        ],\n                    }]]\n                },\n                layout: {\n                    hLineWidth() {\n                        return 1.5;\n                    },\n                    vLineWidth() {\n                        return 1.5;\n                    },\n                    hLineColor() {\n                        return 'black';\n                    },\n                    vLineColor() {\n                        return 'black';\n                    }\n                }\n            }:\n            {text: entry.Epunch, fontSize: 11, alignment:'right'},\n        {text: entry.Club, fontSize: 11},\n        {text: formatPhoneNumber(entry.Phone), fontSize: 11},\n        {text: formatPhoneNumber(entry.EmergencyPhone), fontSize: 11},\n        {text: entry.CarLicense, fontSize: 8}\n    ]\n    return(row);\n}\n\n// https://stackoverflow.com/questions/8358084/regular-expression-to-reformat-a-us-phone-number-in-javascript/41318684\nfunction formatPhoneNumber(phoneNumberString:string) {\n    var cleaned = ('' + phoneNumberString).replace(/\\D/g, '');\n    var match = cleaned.match(/^(1|)?(\\d{3})(\\d{3})(\\d{4})$/);\n    if (match) {\n      return ['(', match[2], ') ', match[3], '-', match[4]].join('');\n    }\n    return cleaned;\n  }\n  ","import React from 'react';\nimport './App.css';\nimport Papa from 'papaparse';\nimport { BasicDz } from './components/dz';\nimport * as SS from './orienteering/SportSoftware'\nimport { Button, Col, Container, Row } from 'react-bootstrap';\nimport { LtEntry, parseEnties } from './lt/Entry';\nimport { Header } from './components/Header';\nimport { PageTitle } from './components/PageTitle';\nimport {Entry} from './components/Entry';\nimport {EntryFile, entryFileMeta} from './components/EntryFile';\nimport { RegistrationClassCount } from './components/RegistrationClassCount';\nimport { buildCheckInPdf } from './orienteering/RegistrationCheckinPdf';\n\ntype myformstate = {\n  filesprocessed: entryFileMeta[],\n  entries: LtEntry[],\n  nextstartno: number\n}\n\nclass EntryProcessor extends React.Component<{}, myformstate, {}> {\n  constructor(props:{}) {\n    super(props);\n    this.state = {\n      filesprocessed: [],\n      entries: [],\n      nextstartno: 1000\n    }\n\n    this.handleUnparse = this.handleUnparse.bind(this);\n    this.updateEntries = this.updateEntries.bind(this);\n    this.handleClearEntries = this.handleClearEntries.bind(this);\n    this.nowtimestring = this.nowtimestring.bind(this);\n    this.downloadpdf = this.downloadpdf.bind(this);\n  }\n\n  handleClearEntries() {\n    this.setState({entries: [], filesprocessed: []});\n  }\n\n  handleUnparse() {\n    if (this.state.entries.length === 0) {\n      console.log(\"No entries\");\n      return\n    }\n\n    const forexport = SS.fromLtEntries(this.state.entries)\n\n    // export assigns start numbers to the LtEntry, so update state here\n    this.setState({entries: this.state.entries});\n\n    const unparseconfig:Papa.UnparseConfig = {\n      quotes: false,\n      delimiter: \";\",\n      header: true,\n      skipEmptyLines: \"greedy\",\n      columns: SS.COLUMNS_STANDARD\n    }\n\n    const csvstring:string = Papa.unparse(forexport, unparseconfig);\n    const nowstring:string = this.nowtimestring();\n    const el = document.createElement('a');\n    el.href = 'data:text/csv;charset=utf-8,' + encodeURI(csvstring);\n    el.target = '_blank';\n    el.download = 'EntriesForOe-'.concat(nowstring, '.csv');\n    el.click();\n  }\n\n  nowtimestring():string {\n    const now:Date = new Date();\n    const y = now.getFullYear().toString();\n    const m = (now.getMonth() + 1).toString().padStart(2, \"0\");\n    const d = now.getDate().toString().padStart(2, \"0\");\n    const H = now.getHours().toString().padStart(2, \"0\");\n    const M = now.getMinutes().toString().padStart(2, \"0\");\n    return y.concat(m, d, 'T', H, M);\n  }\n\n  updateEntries(file:File) {\n    Papa.parse(file, {\n            header: true,\n            transform: (value, col) => {return(value.replace(/\\0/g, '').trim())},\n            complete: (results, file:File) => {\n      const parsed = parseEnties(results.data, this.state.nextstartno);\n      const newentries = this.state.entries.concat(parsed.data);\n      this.setState({entries: newentries, nextstartno: parsed.meta.maxstartno})\n\n      const newfile:entryFileMeta = {\n        name: file.name,\n        success: parsed.meta.success,\n        failed: parsed.meta.failed,\n        empty: parsed.meta.empty\n      };\n      this.setState({\n        filesprocessed: [...this.state.filesprocessed, newfile]\n      });\n  }\n  });\n  }\n\n  downloadpdf() {\n    const checkInPdf = buildCheckInPdf(this.state.entries);\n    const fileName:string = 'Registrations-'.concat(this.nowtimestring(), '.pdf');\n    checkInPdf.download(fileName);\n  }\n\n  render() {\n    const entries = (this.state.entries.length > 0) ? \n      this.state.entries.map((entry) =>\n      <Entry \n        value={entry}\n      />) :\n      <tr>\n        <td colSpan={6} style={{textAlign:'center'}}>\n          No Registrations to Show\n        </td>\n      </tr>\n    ;\n\n    const files = this.state.filesprocessed.map((filemeta) =>\n      <EntryFile\n        name={filemeta.name}\n        success={filemeta.success}\n        failed={filemeta.failed}\n        empty={filemeta.empty}\n      />\n    );\n\n    const regclasshist = this.state.entries.reduce(function(regclasshist: {[key:string]: number}, reg:LtEntry) {\n      if (!regclasshist[reg.ClassId]) {\n        regclasshist[reg.ClassId] = 1;\n      } else {\n        regclasshist[reg.ClassId]++;\n      }\n      return regclasshist;\n    }, {});\n  \n    const regmeta = Object.entries(regclasshist);\n\n\n    const counts = regmeta.sort((a, b) => a[0].toLocaleLowerCase().localeCompare(b[0].toLocaleLowerCase())).map((regclass) => \n    <RegistrationClassCount\n      classname={regclass[0]}\n      regcount={regclass[1]}\n    />\n  );\n\n    return (\n      <div>\n        <PageTitle \n          title=\"Pre-Process Registration Files\" \n        />\n        <p>\n          Save event registration information in .csv format. Upload multiple files to combine registration information from multiple sources. (Todo: click to expand for supported csv formats)\n        </p>\n        <p>\n          This tool creates outputs ready for import into SportSoftware (OE) and PDF files to print and use at check-in.\n        </p>\n        <h4>Files</h4>\n        <p>\n          <BasicDz parser={this.updateEntries}/>\n        </p>\n        <Row>\n          <Col xs={12} md={6}>\n            <Row>\n              <p>Files Uploaded: {this.state.filesprocessed.length}</p>\n              <p><ul>{files}</ul></p>\n              <p>Registrations by Class (Total: {this.state.entries.length})</p>\n              <p>\n              <Row>\n                {counts}\n              </Row>\n              </p>\n\n            </Row>\n            <Row>\n              <p>\n                <Button \n                  variant=\"primary\" \n                  onClick={this.handleUnparse} \n                  disabled={this.state.entries.length > 0 ? false:true}\n                >\n                  Download OE File\n                </Button>\n                &nbsp;\n                <Button \n                  variant=\"primary\" \n                  onClick={this.downloadpdf}\n                  disabled={this.state.entries.length > 0 ? false:true}\n                >\n                  Download Check-In PDF\n                </Button>\n                &nbsp;\n                <Button \n                  variant=\"outline-secondary\" \n                  onClick={this.handleClearEntries}\n                >\n                  Clear Registrations\n                </Button>\n              </p>\n            </Row>\n          </Col>\n          <Col xs={6} md={6}>\n\n            <table style={{textAlign: 'left'}}>\n              <thead>\n                <tr>\n                  <th>First</th>\n                  <th>Last</th>\n                  <th>Chip</th>\n                  <th>Rented?</th>\n                  <th>Class</th>\n                  <th>Start #</th>\n                </tr>\n              </thead>\n              <tbody>\n                {entries}\n              </tbody>\n            </table>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Container fluid style={{\n        backgroundColor: '#F7F7F7',\n      }}>\n        <Header />\n        <Row>\n        <Col xs={{span:10, offset:1}}>\n          <EntryProcessor />\n        </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n// Importing the Bootstrap CSS\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}